server {
    listen 80;
    server_name _;

    # Static files (CSS, JS, images)
    location /static/ {
        alias /app/staticfiles/;
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header Access-Control-Allow-Origin "*";
        try_files $uri $uri/ =404;
    }

    # Camera stream files (HLS)
    location /camera_stream/ {
        alias /var/www/camera_stream/;
        expires 5s;
        add_header Cache-Control "no-cache";
        add_header Access-Control-Allow-Origin "*";
        try_files $uri $uri/ =404;
    }

    # Default response for nginx-only requests
    location / {
        return 404 "Static files only - use main domain for app";
    }
}